# AI 内容编织应用 - 需求整理

本文档整理了“AI 内容编织应用”的核心需求和目标。

## 1. 核心目标

开发一个 AI Agent 应用，该应用能够：

*   **理解用户输入**: 接收用户通过界面输入的多种形式内容，包括但不限于文字段落、图片（通过链接或未来支持上传）、代码片段等。
*   **内容整理与重新编排**: 利用大型语言模型 (LLM) 的能力，对用户输入的多模态、可能乱序的内容进行深层理解、智能整理和结构优化。
*   **高质量文章输出**: 将处理后的内容重新编排成一份结构完整、逻辑清晰、表达流畅的高质量文章。
*   **网页预览**: 提供文章的 Markdown 源码以及一个基础的 HTML 网页预览效果，方便用户查看最终呈现。
*   **对外发布标准**: 生成的内容应达到可直接对外发布的标准。

## 2. LLM 集成需求

*   **LLM 驱动核心**: 应用的核心内容理解���编排能力依赖于 LLM。
*   **支持多种 LLM 及模型**:
    *   系统应设计为可支持接入不同的 LLM 提供商（如 Google Gemini, Anthropic Claude, OpenAI GPT 等）。
    *   在同一提供商下，应支持选择不同的具体模型（如 Gemini 1.5 Flash, Claude 3 Opus 等）。
*   **用户选择与建议**:
    *   前端界面应提供清晰的选项，让用户可以选择期望使用的 LLM 提供商和模型。
    *   应用需向用户提供关于所选模型能力的建议和提示。例如：
        *   明确指出某些模型可能不支持图片理解，如果用户输入了图片，选择这类模型会影响最终输出。
        *   展示模型的基本特性（如是否支持图片、大致的token限制等信息，如果后端可提供）。

## 3. 技术栈与开发要求

*   **后端**: Python 语言，选用 FastAPI 框架。
*   **前端**: JavaScript 语言，选用 React (Vite) 框架。
*   **样式**: 使用 Tailwind CSS 实现美观、现代化的界面设计。
*   **应用美观与交互**:
    *   整体应用界面应设计得美观、大气。
    *   用户交互应流畅、直观、友好。
    *   前端输入界面需精简，易于操作。

## 4. 用户输入处理需求

*   **混合内容块**: 用户的输入很可能是文字、图片、代码片段等内容穿插的。
*   **灵活的输入顺序**: 用户输入这些内容块的顺序可能是任意的，不一定严格按照最终文章的逻辑顺序。
*   **结构化接收**: 后端应能以一种结构化的方式（例如，内容块对象的列表）接收这些不同类型、不同顺序的输入，每个块应能标识其类型（如文本、代码、图片）及其具体内容（文字、代码本身、图片URL、代码语言、说明等）。
*   **后端理解与编排**: 后端（结合 LLM）需要能够理解这些结构化输入块的顺序和内容，并进行智能的重新排序和组织，形成连贯的文章。

## 5. 输出格式

*   **Markdown**: 提供文章的 Markdown 源码。
*   **HTML 预览**: 提供一个基础的 HTML 渲染效果，用于即时预览文章在网页上的大致外观。

## 6. (隐含需求/后续讨论明确)

*   **项目可维护性与扩展性**: 代码架构应清晰，模块化，易于未来维护和添加新功能（如新的 LLM 提供商、更复杂的输入类型等）。
*   **开发效率**: 技术选型应考虑到开发效率和社区支持。
